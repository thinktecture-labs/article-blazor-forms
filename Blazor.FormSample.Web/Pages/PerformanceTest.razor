@page "/performance"
@if (Country != null)
{
    <div class="btn-action">
        @if (_enablePerformance)
        {
            <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.Power" OnClick="@(() => _enablePerformance = false)"/>
        }
        else
        {
            <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.PowerOff" OnClick="@(() => _enablePerformance = true)"/>
        }
    </div>

    <div class="wrapper">
        @*@if (_enablePerformance)
        {
            <div class="test">
                <MudContainer Style="max-height: 100vh; overflow-y: scroll">
                    <Virtualize Items="@Country.Airports" OverscanCount="10" Context="airport">
                        <ItemContent>
                            <MudTextField T="string" @key="airport.Id" @bind-Value="@airport.Name" Label="Input"/>
                        </ItemContent>
                        <Placeholder>
                            <Spinner></Spinner>
                        </Placeholder>
                    </Virtualize>
                </MudContainer>
            </div>
        }
        else
        {*@
        <div class="test">
            <EditForm Model="Country">
                @foreach (var airport in Country.Airports)
                {
                    <PerfInputText Label="Airport" @key="airport.Id" EnablePerformanceBoost="_enablePerformance" @bind-Value="airport.Name" ValidationFor="@(() => airport.Name)"/>
                }
            </EditForm>
        </div>
        @*}*@
    </div>
}